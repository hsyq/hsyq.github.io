(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{287:function(r,s,t){"use strict";t.r(s);var a=t(13),e=Object(a.a)({},(function(){var r=this,s=r._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[s("h1",{attrs:{id:"docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[r._v("#")]),r._v(" Docker")]),r._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[r._v("#")]),r._v(" 简介")]),r._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[r._v("#")]),r._v(" 安装")]),r._v(" "),s("h3",{attrs:{id:"以centos为例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以centos为例"}},[r._v("#")]),r._v(" 以Centos为例")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code")])]),s("h2",{attrs:{id:"使用官方安装脚本自动安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用官方安装脚本自动安装"}},[r._v("#")]),r._v(" 使用官方安装脚本自动安装")]),r._v(" "),s("p",[r._v("安装命令如下：")]),r._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[r._v("curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n")])])]),s("p",[r._v("也可以使用国内 daocloud 一键安装命令：")]),r._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[r._v("curl -sSL https://get.daocloud.io/docker | sh\n")])])]),s("h3",{attrs:{id:"配置镜像加速服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置镜像加速服务"}},[r._v("#")]),r._v(" 配置镜像加速服务")]),r._v(" "),s("p",[r._v("国内从 DockerHub 拉取镜像有时会遇到困难，此时可以配置镜像加速器。Docker 官方和国内很多云服务商都提供了国内加速器服务，例如：")]),r._v(" "),s("p",[r._v("科大镜像：https://docker.mirrors.ustc.edu.cn/\n网易：https://hub-mirror.c.163.com/\n阿里云：https://<你的ID>.mirror.aliyuncs.com\n七牛云加速器：https://reg-mirror.qiniu.com\n当配置某一个加速器地址之后，若发现拉取不到镜像，请切换到另一个加速器地址。国内各大云服务商均提供了 Docker 镜像加速服务，建议根据运行 Docker 的云平台选择对应的镜像加速服务。")]),r._v(" "),s("p",[r._v("阿里云镜像获取地址：https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors，登陆后，左侧菜单选中镜像加速器就可以看到你的专属地址了：")]),r._v(" "),s("p",[r._v("CentOS7\n对于使用 systemd 的系统，请在 /etc/docker/daemon.json 中写入如下内容（如果文件不存在请新建该文件）：")]),r._v(" "),s("p",[r._v('{"registry-mirrors":["https://reg-mirror.qiniu.com/"]}\n之后重新启动服务：')]),r._v(" "),s("p",[r._v("$ sudo systemctl daemon-reload\n$ sudo systemctl restart docker")]),r._v(" "),s("h2",{attrs:{id:"镜像操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#镜像操作"}},[r._v("#")]),r._v(" 镜像操作")]),r._v(" "),s("h2",{attrs:{id:"容器操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器操作"}},[r._v("#")]),r._v(" 容器操作")]),r._v(" "),s("p",[r._v("运行镜像时，如果docker发现本地没有相关的镜像，也会去仓库中下载一个回来。")]),r._v(" "),s("h2",{attrs:{id:"docker安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装nginx"}},[r._v("#")]),r._v(" Docker安装Nginx")]),r._v(" "),s("h2",{attrs:{id:"docker安装mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mysql"}},[r._v("#")]),r._v(" Docker安装Mysql")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[r._v("docker")]),r._v(" pull nginx\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[r._v("docker")]),r._v(" run -d --name nginx -p "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("80")]),r._v(":80 nginx\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[r._v("docker")]),r._v(" run --name nginx -v /www/vue:/usr/share/nginx/html:ro -d nginx\n")])])]),s("p",[s("strong",[r._v("默认数据卷的映射是双向的，通过指定ro")]),r._v("**，只有宿主机能影响容器，容器中的目录只读，不能写操作，不能影响宿主机。**")]),r._v(" "),s("p",[r._v("通过数据卷，指定宿主机的配置文件给nginx容器使用：")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[r._v("docker")]),r._v(" run –name nginx -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("8081")]),r._v(":80 -v /opt/nginx/nginx.conf:/etc/nginx/nginx.conf nginx\n")])])]),s("h2",{attrs:{id:"docker安装mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mongodb"}},[r._v("#")]),r._v(" Docker安装MongoDB")]),r._v(" "),s("h2",{attrs:{id:"docker安装redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装redis"}},[r._v("#")]),r._v(" Docker安装Redis")]),r._v(" "),s("h2",{attrs:{id:"docker安装elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装elasticsearch"}},[r._v("#")]),r._v(" Docker安装ElasticSearch")]),r._v(" "),s("h2",{attrs:{id:"dockerfile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[r._v("#")]),r._v(" Dockerfile")]),r._v(" "),s("h2",{attrs:{id:"docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[r._v("#")]),r._v(" Docker Compose")]),r._v(" "),s("h2",{attrs:{id:"docker命令总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker命令总结"}},[r._v("#")]),r._v(" Docker命令总结")]),r._v(" "),s("p",[r._v("容器生命周期管理\nrun\nstart/stop/restart\nkill\nrm\npause/unpause\ncreate\nexec\n容器操作\nps\ninspect\ntop\nattach\nevents\nlogs\nwait\nexport\nport\n容器rootfs命令\ncommit\ncp\ndiff\n镜像仓库\nlogin\npull\npush\nsearch\n本地镜像管理\nimages\nrmi\ntag\nbuild\nhistory\nsave\nload\nimport\ninfo|version\ninfo\nversion")]),r._v(" "),s("h2",{attrs:{id:"docker-资源汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-资源汇总"}},[r._v("#")]),r._v(" Docker 资源汇总")]),r._v(" "),s("p",[r._v("Docker 资源\nDocker 官方主页: https://www.docker.com\nDocker 官方博客: https://blog.docker.com/\nDocker 官方文档: https://docs.docker.com/\nDocker Store: https://store.docker.com\nDocker Cloud: https://cloud.docker.com\nDocker Hub: https://hub.docker.com\nDocker 的源代码仓库: https://github.com/moby/moby\nDocker 发布版本历史: https://docs.docker.com/release-notes/\nDocker 常见问题: https://docs.docker.com/engine/faq/\nDocker 远端应用 API: https://docs.docker.com/develop/sdk/\nDocker 国内镜像\n阿里云的加速器：https://help.aliyun.com/document_detail/60750.html")]),r._v(" "),s("p",[r._v("网易加速器：http://hub-mirror.c.163.com")]),r._v(" "),s("p",[r._v("官方中国加速器：https://registry.docker-cn.com")]),r._v(" "),s("p",[r._v("ustc 的镜像：https://docker.mirrors.ustc.edu.cn")]),r._v(" "),s("p",[r._v("daocloud：https://www.daocloud.io/mirror#accelerator-doc（注册后使用）")]),r._v(" "),s("p",[r._v("如果有更好的资源，欢迎通过下面的笔记来分享。")])])}),[],!1,null,null,null);s.default=e.exports}}]);